### Employee API - Manual Testing
# For use with IntelliJ IDEA's HTTP Client.
# Run ./gradlew api:bootRun first (requires mock server on 8112).
#
# Usage:
# 1. Click the green play button next to any request
# 2. Variables like {{employeeId}} are extracted from responses
#
# Tip: Run "Get all employees" first to populate {{employeeId}}

### Get all employees (run first to get valid employee IDs)
GET http://localhost:8111/api/v1/employee
Accept: application/json

> {%
    if (response.body.length > 0) {
        client.global.set("employeeId", response.body[0].id);
        client.global.set("employeeName", response.body[0].name);
        client.log("Stored employeeId: " + response.body[0].id);
        client.log("Stored employeeName: " + response.body[0].name);
    }
%}

###

### Search employees by name
GET http://localhost:8111/api/v1/employee/search/{{employeeName}}
Accept: application/json

###

### Get employee by ID (uses ID from previous request)
GET http://localhost:8111/api/v1/employee/{{employeeId}}
Accept: application/json

###

### Get highest salary
GET http://localhost:8111/api/v1/employee/highestSalary
Accept: application/json

###

### Get top 10 highest earning employee names
GET http://localhost:8111/api/v1/employee/topTenHighestEarningEmployeeNames
Accept: application/json

###

### Create new employee
POST http://localhost:8111/api/v1/employee
Content-Type: application/json
Accept: application/json

{
  "name": "Test Employee",
  "salary": 75000,
  "age": 30,
  "title": "Software Engineer"
}

> {%
    if (response.body && response.body.id) {
        client.global.set("newEmployeeId", response.body.id);
        client.global.set("newEmployeeName", response.body.name);
        client.log("Created employee: " + response.body.id);
    }
%}

###

### Delete the created employee
DELETE http://localhost:8111/api/v1/employee/{{newEmployeeId}}
Accept: application/json

###

### Create employee with validation error (invalid age < 16)
POST http://localhost:8111/api/v1/employee
Content-Type: application/json
Accept: application/json

{
  "name": "Invalid Employee",
  "salary": 50000,
  "age": 10,
  "title": "Developer"
}

###

### Test invalid UUID format (expects 400)
GET http://localhost:8111/api/v1/employee/invalid-uuid
Accept: application/json

###
